<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.MainTopicMapper">
	<resultMap type="MainTopic" id="mtResultMap">
	</resultMap>
	<select id="getMainTopic" parameterType="int" resultType="MainTopic">
		select * from MainTopic where mt_id = #{mt_id}
	</select>

	<select id="getTotal" resultType="int">
		SELECT COUNT(*) FROM MainTopic
	</select>
	
	<select id="getHotTopics" resultType="MainTopic">
		SELECT * FROM MainTopic 
		ORDER BY (agree+disagree) DESC
		LIMIT #{to}, #{number}
	</select>
	
	<select id="getLatelyTopics" resultType="MainTopic">
		SELECT * FROM MainTopic 
		ORDER BY date DESC
		LIMIT #{to}, #{number}
	</select>
		
	<select id="getSearchTotal" parameterType="String" resultType="int">
		SELECT COUNT(*) FROM MainTopic
		<!-- WHERE mt_title LIKE '%'#{searchText}'%' -->
		WHERE mt_title LIKE CONCAT('%',#{searchText},'%')
	</select>
	
	<select id="getTitleSearchTopics" resultType="MainTopic">
		SELECT * FROM MainTopic 
		WHERE mt_title LIKE CONCAT('%',#{searchText},'%')
		LIMIT #{to}, #{number}
	</select>

	
</mapper>